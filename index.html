<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Relatórios Terapêuticos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f4f7f9;
        }
        select[multiple] {
            height: 150px;
        }
    </style>
</head>
<body class="p-6">

    <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-xl relative">
        <div class="absolute top-4 right-4 text-sm text-gray-500 font-medium">
            Versão 4.0
        </div>
        <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Gerador de Relatórios Terapêuticos</h1>
        <p class="text-gray-600 mb-8 text-center">Preencha os campos abaixo para gerar o parágrafo.</p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label for="nome" class="block text-gray-700 font-semibold mb-2">Nome do Paciente:</label>
                <input type="text" id="nome" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ex: João Silva">
            </div>
            <div>
                <label for="acompanhante" class="block text-gray-700 font-semibold mb-2">Companhia:</label>
                <input type="text" id="acompanhante" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ex: Maria (mãe)">
            </div>
            <div class="col-span-1 md:col-span-2">
                <label for="acompanhanteStatus" class="block text-gray-700 font-semibold mb-2">Status da Companhia:</label>
                <select id="acompanhanteStatus" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="chegou acompanhado de">chegou acompanhado de</option>
                    <option value="aguardava junto à">aguardava junto à</option>
                    <option value="realizou a sessão acompanhado de">realizou a sessão acompanhado de</option>
                </select>
            </div>
            <div class="col-span-1 md:col-span-2">
                <label for="genero" class="block text-gray-700 font-semibold mb-2">Gênero do Paciente:</label>
                <select id="genero" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="masculino" selected>Masculino</option>
                    <option value="feminino">Feminino</option>
                </select>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <label for="disposicao" class="block text-gray-700 font-semibold mb-2">Disposição Emocional:</label>
            <select id="disposicao" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </select>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <h3 class="block text-gray-700 font-semibold mb-4">Esquema Físico/Corporal:</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">1. expressividade corporal</h4>
                    <select id="expCorporal" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </select>
                </div>
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">2. expressividade facial</h4>
                    <select id="expFacial" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </select>
                </div>
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">3. postura e tônus</h4>
                    <select id="posturaTonus" multiple class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </select>
                    <p class="text-sm text-gray-500 mt-2">Segure a tecla Ctrl (Windows) ou Command (Mac) para selecionar múltiplos itens.</p>
                </div>
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">4. respiração</h4>
                    <select id="respiracao" multiple class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </select>
                    <p class="text-sm text-gray-500 mt-2">Segure a tecla Ctrl (Windows) ou Command (Mac) para selecionar múltiplos itens.</p>
                </div>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <label class="block text-gray-700 font-semibold mb-2">Recursos com que o paciente interagiu durante a sessão (escolha um ou mais):</label>
            <div class="p-3 border border-gray-300 rounded-md max-h-48 overflow-y-auto bg-white">
                <h4 class="font-medium text-gray-800 mt-1 mb-2">Sonoro-musicais:</h4>
                <div id="recursosInteragiu" class="pl-4">
                    <label class="block mb-1"><input type="checkbox" value="agogô" class="mr-2">agogô</label>
                    <label class="block mb-1"><input type="checkbox" value="apito" class="mr-2">apito</label>
                    <label class="block mb-1"><input type="checkbox" value="atabaque" class="mr-2">atabaque</label>
                    <label class="block mb-1"><input type="checkbox" value="baquetas" class="mr-2">baquetas</label>
                    <label class="block mb-1"><input type="checkbox" value="berimbau" class="mr-2">berimbau</label>
                    <label class="block mb-1"><input type="checkbox" value="bumbo" class="mr-2">bumbo</label>
                    <label class="block mb-1"><input type="checkbox" value="cabulete" class="mr-2">cabulete</label>
                    <label class="block mb-1"><input type="checkbox" value="caixa de som" class="mr-2">caixa de som</label>
                    <label class="block mb-1"><input type="checkbox" value="cajon" class="mr-2">cajón</label>
                    <label class="block mb-1"><input type="checkbox" value="cavaquinho" class="mr-2">cavaquinho</label>
                    <label class="block mb-1"><input type="checkbox" value="caxixi" class="mr-2">caxixi</label>
                    <label class="block mb-1"><input type="checkbox" value="clavas" class="mr-2">clavas</label>
                    <label class="block mb-1"><input type="checkbox" value="flauta de bloco" class="mr-2">flauta de bloco</label>
                    <label class="block mb-1"><input type="checkbox" value="flauta transversal (pife)" class="mr-2">flauta transversal (pife)</label>
                    <label class="block mb-1"><input type="checkbox" value="flauta apito" class="mr-2">flauta apito</label>
                    <label class="block mb-1"><input type="checkbox" value="gaita de boca" class="mr-2">gaita de boca</label>
                    <label class="block mb-1"><input type="checkbox" value="ganza ovinho" class="mr-2">ganzá ovinho</label>
                    <label class="block mb-1"><input type="checkbox" value="kalimba" class="mr-2">kalimba</label>
                    <label class="block mb-1"><input type="checkbox" value="meia lua" class="mr-2">meia lua</label>
                    <label class="block mb-1"><input type="checkbox" value="meia lua de pé" class="mr-2">meia lua de pé</label>
                    <label class="block mb-1"><input type="checkbox" value="metalofone" class="mr-2">metalofone</label>
                    <label class="block mb-1"><input type="checkbox" value="microfone" class="mr-2">microfone</label>
                    <label class="block mb-1"><input type="checkbox" value="ocarina" class="mr-2">ocarina</label>
                    <label class="block mb-1"><input type="checkbox" value="pandeiro" class="mr-2">pandeiro</label>
                    <label class="block mb-1"><input type="checkbox" value="rabeca" class="mr-2">rabeca</label>
                    <label class="block mb-1"><input type="checkbox" value="reco-reco" class="mr-2">reco-reco</label>
                    <label class="block mb-1"><input type="checkbox" value="surdo" class="mr-2">surdo</label>
                    <label class="block mb-1"><input type="checkbox" value="tambor" class="mr-2">tambor</label>
                    <label class="block mb-1"><input type="checkbox" value="tamborim" class="mr-2">tamborim</label>
                    <label class="block mb-1"><input type="checkbox" value="teclado" class="mr-2">teclado</label>
                    <label class="block mb-1"><input type="checkbox" value="triângulo" class="mr-2">triângulo</label>
                    <label class="block mb-1"><input type="checkbox" value="tubos sonoros" class="mr-2">tubos sonoros</label>
                    <label class="block mb-1"><input type="checkbox" value="ukulele" class="mr-2">ukulele</label>
                    <label class="block mb-1"><input type="checkbox" value="violao" class="mr-2">violão</label>
                    <label class="block mb-1"><input type="checkbox" value="xilofone" class="mr-2">xilofone</label>
                </div>
                <h4 class="font-medium text-gray-800 mt-4 mb-2">Extra-musicais:</h4>
                <div id="recursosExtraInteragiu" class="pl-4">
                    <label class="block mb-1"><input type="checkbox" value="baralho convencional" class="mr-2">baralho convencional</label>
                    <label class="block mb-1"><input type="checkbox" value="baralho musical" class="mr-2">baralho musical</label>
                    <label class="block mb-1"><input type="checkbox" value="bolas de vinil" class="mr-2">bolas de vinil</label>
                    <label class="block mb-1"><input type="checkbox" value="bambolê" class="mr-2">bambolê</label>
                    <label class="block mb-1"><input type="checkbox" value="caneta esferográfica" class="mr-2">caneta esferográfica</label>
                    <label class="block mb-1"><input type="checkbox" value="caneta marcador a base de álcool" class="mr-2">caneta marcador a base de álcool</label>
                    <label class="block mb-1"><input type="checkbox" value="cartoes musicais" class="mr-2">cartões musicais</label>
                    <label class="block mb-1"><input type="checkbox" value="dados" class="mr-2">dados</label>
                    <label class="block mb-1"><input type="checkbox" value="giz de cera" class="mr-2">giz de cera</label>
                    <label class="block mb-1"><input type="checkbox" value="jogos de caneta e papel" class="mr-2">jogos de caneta e papel</label>
                    <label class="block mb-1"><input type="checkbox" value="lapis de cor" class="mr-2">lápis de cor</label>
                    <label class="block mb-1"><input type="checkbox" value="lapis de escrever" class="mr-2">lápis de escrever</label>
                    <label class="block mb-1"><input type="checkbox" value="origami" class="mr-2">origami</label>
                    <label class="block mb-1"><input type="checkbox" value="papel" class="mr-2">papel</label>
                    <label class="block mb-1"><input type="checkbox" value="pincel" class="mr-2">pincel</label>
                    <label class="block mb-1"><input type="checkbox" value="tecidos" class="mr-2">tecidos</label>
                    <label class="block mb-1"><input type="checkbox" value="tesoura" class="mr-2">tesoura</label>
                    <label class="block mb-1"><input type="checkbox" value="tinta acrílica" class="mr-2">tinta acrílica</label>
                    <label class="block mb-1"><input type="checkbox" value="tinta guache" class="mr-2">tinta guache</label>
                </div>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <label class="block text-gray-700 font-semibold mb-2">Recursos utilizados na abordagem terapêutica (escolha um ou mais):</label>
            <div class="p-3 border border-gray-300 rounded-md max-h-48 overflow-y-auto bg-white">
                <h4 class="font-medium text-gray-800 mt-1 mb-2">Sonoro-musicais:</h4>
                <div id="recursosAbordagem" class="pl-4">
                    <label class="block mb-1"><input type="checkbox" value="agogô" class="mr-2">agogô</label>
                    <label class="block mb-1"><input type="checkbox" value="apito" class="mr-2">apito</label>
                    <label class="block mb-1"><input type="checkbox" value="atabaque" class="mr-2">atabaque</label>
                    <label class="block mb-1"><input type="checkbox" value="baquetas" class="mr-2">baquetas</label>
                    <label class="block mb-1"><input type="checkbox" value="berimbau" class="mr-2">berimbau</label>
                    <label class="block mb-1"><input type="checkbox" value="bumbo" class="mr-2">bumbo</label>
                    <label class="block mb-1"><input type="checkbox" value="cabulete" class="mr-2">cabulete</label>
                    <label class="block mb-1"><input type="checkbox" value="caixa de som" class="mr-2">caixa de som</label>
                    <label class="block mb-1"><input type="checkbox" value="cajon" class="mr-2">cajón</label>
                    <label class="block mb-1"><input type="checkbox" value="cavaquinho" class="mr-2">cavaquinho</label>
                    <label class="block mb-1"><input type="checkbox" value="caxixi" class="mr-2">caxixi</label>
                    <label class="block mb-1"><input type="checkbox" value="clavas" class="mr-2">clavas</label>
                    <label class="block mb-1"><input type="checkbox" value="flauta de bloco" class="mr-2">flauta de bloco</label>
                    <label class="block mb-1"><input type="checkbox" value="flauta transversal (pife)" class="mr-2">flauta transversal (pife)</label>
                    <label class="block mb-1"><input type="checkbox" value="flauta apito" class="mr-2">flauta apito</label>
                    <label class="block mb-1"><input type="checkbox" value="gaita de boca" class="mr-2">gaita de boca</label>
                    <label class="block mb-1"><input type="checkbox" value="ganza ovinho" class="mr-2">ganzá ovinho</label>
                    <label class="block mb-1"><input type="checkbox" value="kalimba" class="mr-2">kalimba</label>
                    <label class="block mb-1"><input type="checkbox" value="meia lua" class="mr-2">meia lua</label>
                    <label class="block mb-1"><input type="checkbox" value="meia lua de pé" class="mr-2">meia lua de pé</label>
                    <label class="block mb-1"><input type="checkbox" value="metalofone" class="mr-2">metalofone</label>
                    <label class="block mb-1"><input type="checkbox" value="microfone" class="mr-2">microfone</label>
                    <label class="block mb-1"><input type="checkbox" value="ocarina" class="mr-2">ocarina</label>
                    <label class="block mb-1"><input type="checkbox" value="pandeiro" class="mr-2">pandeiro</label>
                    <label class="block mb-1"><input type="checkbox" value="rabeca" class="mr-2">rabeca</label>
                    <label class="block mb-1"><input type="checkbox" value="reco-reco" class="mr-2">reco-reco</label>
                    <label class="block mb-1"><input type="checkbox" value="surdo" class="mr-2">surdo</label>
                    <label class="block mb-1"><input type="checkbox" value="tambor" class="mr-2">tambor</label>
                    <label class="block mb-1"><input type="checkbox" value="tamborim" class="mr-2">tamborim</label>
                    <label class="block mb-1"><input type="checkbox" value="teclado" class="mr-2">teclado</label>
                    <label class="block mb-1"><input type="checkbox" value="triângulo" class="mr-2">triângulo</label>
                    <label class="block mb-1"><input type="checkbox" value="tubos sonoros" class="mr-2">tubos sonoros</label>
                    <label class="block mb-1"><input type="checkbox" value="ukulele" class="mr-2">ukulele</label>
                    <label class="block mb-1"><input type="checkbox" value="violao" class="mr-2">violão</label>
                    <label class="block mb-1"><input type="checkbox" value="xilofone" class="mr-2">xilofone</label>
                </div>
                <h4 class="font-medium text-gray-800 mt-4 mb-2">Extra-musicais:</h4>
                <div id="recursosExtraAbordagem" class="pl-4">
                    <label class="block mb-1"><input type="checkbox" value="baralho convencional" class="mr-2">baralho convencional</label>
                    <label class="block mb-1"><input type="checkbox" value="baralho musical" class="mr-2">baralho musical</label>
                    <label class="block mb-1"><input type="checkbox" value="bolas de vinil" class="mr-2">bolas de vinil</label>
                    <label class="block mb-1"><input type="checkbox" value="bambolê" class="mr-2">bambolê</label>
                    <label class="block mb-1"><input type="checkbox" value="caneta esferográfica" class="mr-2">caneta esferográfica</label>
                    <label class="block mb-1"><input type="checkbox" value="caneta marcador a base de álcool" class="mr-2">caneta marcador a base de álcool</label>
                    <label class="block mb-1"><input type="checkbox" value="cartoes musicais" class="mr-2">cartões musicais</label>
                    <label class="block mb-1"><input type="checkbox" value="dados" class="mr-2">dados</label>
                    <label class="block mb-1"><input type="checkbox" value="giz de cera" class="mr-2">giz de cera</label>
                    <label class="block mb-1"><input type="checkbox" value="jogos de caneta e papel" class="mr-2">jogos de caneta e papel</label>
                    <label class="block mb-1"><input type="checkbox" value="lapis de cor" class="mr-2">lápis de cor</label>
                    <label class="block mb-1"><input type="checkbox" value="lapis de escrever" class="mr-2">lápis de escrever</label>
                    <label class="block mb-1"><input type="checkbox" value="origami" class="mr-2">origami</label>
                    <label class="block mb-1"><input type="checkbox" value="papel" class="mr-2">papel</label>
                    <label class="block mb-1"><input type="checkbox" value="pincel" class="mr-2">pincel</label>
                    <label class="block mb-1"><input type="checkbox" value="tecidos" class="mr-2">tecidos</label>
                    <label class="block mb-1"><input type="checkbox" value="tesoura" class="mr-2">tesoura</label>
                    <label class="block mb-1"><input type="checkbox" value="tinta acrílica" class="mr-2">tinta acrílica</label>
                    <label class="block mb-1"><input type="checkbox" value="tinta guache" class="mr-2">tinta guache</label>
                </div>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <label class="block text-gray-700 font-semibold mb-2">Elementos da sala com que o paciente interagiu (escolha um ou mais):</label>
            <div id="elementosSala" class="p-3 border border-gray-300 rounded-md max-h-48 overflow-y-auto bg-white">
                <label class="block mb-1"><input type="checkbox" value="tapete" class="mr-2">tapete</label>
                <label class="block mb-1"><input type="checkbox" value="bancos" class="mr-2">bancos</label>
                <label class="block mb-1"><input type="checkbox" value="cadeiras" class="mr-2">cadeiras</label>
                <label class="block mb-1"><input type="checkbox" value="pufe" class="mr-2">pufe</label>
                <label class="block mb-1"><input type="checkbox" value="interruptores" class="mr-2">interruptores</label>
                <label class="block mb-1"><input type="checkbox" value="chaves" class="mr-2">chaves</label>
                <label class="block mb-1"><input type="checkbox" value="trinco" class="mr-2">trinco</label>
                <label class="block mb-1"><input type="checkbox" value="janela" class="mr-2">janela</label>
                <label class="block mb-1"><input type="checkbox" value="lixo" class="mr-2">lixo</label>
                <label class="block mb-1"><input type="checkbox" value="álcool em gel" class="mr-2">álcool em gel</label>
                <label class="block mb-1"><input type="checkbox" value="portas de armário" class="mr-2">portas de armário</label>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <label class="block text-gray-700 font-semibold mb-2">Principais Objetivos (escolha um ou mais):</label>
            <div id="objetivos" class="p-3 border border-gray-300 rounded-md max-h-48 overflow-y-auto bg-white">
                <label class="block mb-1"><input type="checkbox" value="desenvolver controle respiratório consciente" class="mr-2">desenvolver controle respiratório consciente</label>
                <label class="block mb-1"><input type="checkbox" value="desenvolver habilidades cognitivas" class="mr-2">desenvolver habilidades cognitivas</label>
                <label class="block mb-1"><input type="checkbox" value="dispor ambiente de expressão emocional segura" class="mr-2">dispor ambiente de expressão emocional segura</label>
                <label class="block mb-1"><input type="checkbox" value="encontro com processos de subjetivação" class="mr-2">encontro com processos de subjetivação</label>
                <label class="block mb-1"><input type="checkbox" value="estimular a criatividade e a imaginação" class="mr-2">estimular a criatividade e a imaginação</label>
                <label class="block mb-1"><input type="checkbox" value="facilitar a comunicação verbal e não-verbal" class="mr-2">facilitar a comunicação verbal e não-verbal</label>
                <label class="block mb-1"><input type="checkbox" value="melhorar o bem-estar psicossomático" class="mr-2">melhorar o bem-estar psicossomático</label>
                <label class="block mb-1"><input type="checkbox" value="promover autonomia, autoria e desenvolvimento lúdico de papéis" class="mr-2">promover autonomia, autoria e desenvolvimento lúdico de papéis</label>
                <label class="block mb-1"><input type="checkbox" value="promover conhecimento profundo de si" class="mr-2">promover conhecimento profundo de si</label>
                <label class="block mb-1"><input type="checkbox" value="promover crescimento pessoal e individuação" class="mr-2">promover crescimento pessoal e individuação</label>
                <label class="block mb-1"><input type="checkbox" value="promover noções proprioceptivas" class="mr-2">promover noções proprioceptivas</label>
                <label class="block mb-1"><input type="checkbox" value="promover relaxamento e redução de estresse" class="mr-2">promover relaxamento e redução de estresse</label>
                <label class="block mb-1"><input type="checkbox" value="tratar de sofrimento psíquico" class="mr-2">tratar de sofrimento psíquico</label>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <label class="block text-gray-700 font-semibold mb-2">Abordagem (escolha um ou mais):</label>
            <div id="abordagem" class="p-3 border border-gray-300 rounded-md max-h-48 overflow-y-auto bg-white">
                <label class="block mb-1"><input type="checkbox" value="atividades artísticas complementares (AACs)" class="mr-2">atividades artísticas complementares (AACs)</label>
                <label class="block mb-1"><input type="checkbox" value="corpo e movimento" class="mr-2">corpo e movimento</label>
                <label class="block mb-1"><input type="checkbox" value="musicoterapia baseada em recursos" class="mr-2">musicoterapia baseada em recursos</label>
                <label class="block mb-1"><input type="checkbox" value="musicoterapia composicional" class="mr-2">musicoterapia composicional</label>
                <label class="block mb-1"><input type="checkbox" value="musicoterapia improvisacional" class="mr-2">musicoterapia improvisacional</label>
                <label class="block mb-1"><input type="checkbox" value="musicoterapia psicodinâmica" class="mr-2">musicoterapia psicodinâmica</label>
                <label class="block mb-1"><input type="checkbox" value="musicoterapia receptiva" class="mr-2">musicoterapia receptiva</label>
                <label class="block mb-1"><input type="checkbox" value="musicoterapia recriativa" class="mr-2">musicoterapia recriativa</label>
                <label class="block mb-1"><input type="checkbox" value="repertório tradicional infantil brasileiro (MTIB)" class="mr-2">repertório tradicional infantil brasileiro (MTIB)</label>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <h3 class="block text-gray-700 font-semibold mb-4">Resultados:</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">1. Desempenho Geral</h4>
                    <select id="desempenhoGeral" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="" disabled selected>Selecione um item</option>
                        <option value="não participou ativamente">não participou ativamente</option>
                        <option value="demonstrou perceber a intervenção mas não participou">demonstrou perceber a intervenção mas não participou</option>
                        <option value="demonstrou perceber a intervenção e teve dificuldade em participar">demonstrou perceber a intervenção e teve dificuldade em participar</option>
                        <option value="participou mas aquém do esperado">participou mas aquém do esperado</option>
                        <option value="participou conforme esperado">participou conforme esperado</option>
                        <option value="participou buscando explorar limites">participou buscando explorar limites</option>
                        <option value="participou além do esperado">participou além do esperado</option>
                    </select>
                </div>
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">2. Comparação Histórica</h4>
                    <select id="desempenhoHistorico" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="" disabled selected>Selecione um item</option>
                        <option value="performou aquém de encontros anteriores">performou aquém de encontros anteriores</option>
                        <option value="performou conforme encontros anteriores">performou conforme encontros anteriores</option>
                        <option value="performou além de encontros anteriores">performou além de encontros anteriores</option>
                    </select>
                </div>
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">3. Mudança Emocional</h4>
                    <select id="mudancaEmocional" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="" disabled selected>Selecione um item</option>
                        <option value="houve melhoria">houve melhoria</option>
                        <option value="permaneceu estável">permaneceu estável</option>
                        <option value="houve agravamento">houve agravamento</option>
                    </select>
                </div>
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">4. Mudanças no Esquema Físico</h4>
                    <div id="mudancasFisicas">
                        <label class="block mb-1"><input type="checkbox" value="regulação respiratória" class="mr-2">regulação respiratória</label>
                        <label class="block mb-1"><input type="checkbox" value="ajuste postural" class="mr-2">ajuste postural</label>
                        <label class="block mb-1"><input type="checkbox" value="ajuste de marcha" class="mr-2">ajuste de marcha</label>
                        <label class="block mb-1"><input type="checkbox" value="ajuste motor" class="mr-2">ajuste motor</label>
                    </div>
                </div>
                <div class="bg-white p-4 rounded-md border border-gray-200">
                    <h4 class="font-medium text-gray-800 mb-2">5. Nível de Suporte Percebido</h4>
                    <div id="suportePercebido">
                        <label class="block mb-1"><input type="checkbox" value="menor uso de intervenções de suporte" class="mr-2">menor uso de intervenções de suporte</label>
                        <label class="block mb-1"><input type="checkbox" value="maior necessidade de intervenções de suporte" class="mr-2">maior necessidade de intervenções de suporte</label>
                        <label class="block mb-1"><input type="checkbox" value="mudanças positivas na qualidade de suporte" class="mr-2">mudanças positivas na qualidade de suporte</label>
                        <label class="block mb-1"><input type="checkbox" value="retrocessos na qualidade de suporte" class="mr-2">retrocessos na qualidade de suporte</label>
                        <label class="block mb-1"><input type="checkbox" value="manutenção dos níveis de suporte" class="mr-2">manutenção dos níveis de suporte</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="nivelSuporte" class="block text-gray-700 font-semibold mb-2">Nível de Suporte:</label>
                    <select id="nivelSuporte" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="" disabled selected>Selecione o nível de suporte predominante</option>
                        <option value="maximo">Máximo</option>
                        <option value="moderado">Moderado</option>
                        <option value="leve">Leve</option>
                        <option value="minimo">Mínimo</option>
                        <option value="sem apoio">Sem apoio</option>
                    </select>
                </div>
                <div>
                    <label for="observacoes" class="block text-gray-700 font-semibold mb-2">Observações:</label>
                    <textarea id="observacoes" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="4" placeholder="Adicione observações adicionais aqui..."></textarea>
                </div>
            </div>

            <div class="mt-6">
                <label for="elementosSimbolicos" class="block text-gray-700 font-semibold mb-2">Elementos Simbólicos:</label>
                <textarea id="elementosSimbolicos" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="4" placeholder="Adicione partilhas de sonhos, relatos de experiências, referências culturais, etc."></textarea>
            </div>

            <div class="mt-6">
                <label class="block text-gray-700 font-semibold mb-2">Intercorrencias:</label>
                <div id="intercorrencias" class="p-3 border border-gray-300 rounded-md max-h-48 overflow-y-auto bg-white">
                    <label class="block mb-1"><input type="checkbox" value="comeu durante atendimento" class="mr-2">comeu durante o atendimento</label>
                    <label class="block mb-1"><input type="checkbox" value="pediu para beber água" class="mr-2">pediu para beber água</label>
                    <label class="block mb-1"><input type="checkbox" value="pediu para ir ao banheiro" class="mr-2">pediu para ir ao banheiro</label>
                    <label class="block mb-1"><input type="checkbox" value="machucou-se durante movimentação na sala" class="mr-2">machucou-se durante movimentação na sala</label>
                    <label class="block mb-1"><input type="checkbox" value="não houveram intercorrencias" class="mr-2">não houveram intercorrências</label>
                    <label class="block mb-1"><input type="checkbox" value="pediu para sair" class="mr-2">pediu para sair</label>
                    <label class="block mb-1"><input type="checkbox" value="pediu para ver mãe/pai" class="mr-2">pediu para ver mãe/pai</label>
                    <label class="block mb-1"><input type="checkbox" value="pediu por acolhimento/colo" class="mr-2">pediu por acolhimento/colo</label>
                    <label class="block mb-1"><input type="checkbox" value="tentou fugir/sair da sala" class="mr-2">tentou fugir/sair da sala</label>
                    <label class="block mb-1"><input type="checkbox" value="subiu em cadeiras e móveis" class="mr-2">subiu em cadeiras e móveis</label>
                </div>
            </div>

            <div class="mt-6 flex flex-col sm:flex-row gap-6">
                <div class="flex items-center">
                    <input type="checkbox" id="devolutiva" class="h-5 w-5 text-blue-600 rounded focus:ring-blue-500">
                    <label for="devolutiva" class="ml-2 text-gray-700 font-semibold">Devolutiva</label>
                </div>
                <div class="flex items-center">
                    <input type="checkbox" id="avaliacao" class="h-5 w-5 text-blue-600 rounded focus:ring-blue-500">
                    <label for="avaliacao" class="ml-2 text-gray-700 font-semibold">Avaliação</label>
                </div>
            </div>

            <div class="mt-6">
                <label for="estilo" class="block text-gray-700 font-semibold mb-2">Estilo de Texto:</label>
                <select id="estilo" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="aleatorio">Aleatório</option>
                    <option value="estilo1">Estilo 1 (Formal e Direto)</option>
                    <option value="estilo2">Estilo 2 (Formal e Descritivo)</option>
                    <option value="estilo3">Estilo 3 (Menos Formal e Direto)</option>
                    <option value="estilo4">Estilo 4 (Menos Formal e Descritivo)</option>
                    <option value="estilo5">Estilo 5 (Estruturado em Tópicos)</option>
                </select>
            </div>
        </div>

        <button onclick="gerarParagrafo()" class="w-full mt-8 p-4 bg-blue-600 text-white font-bold rounded-md hover:bg-blue-700 transition duration-300 shadow-md">
            Gerar Parágrafo
        </button>

        <div class="mt-8 relative bg-gray-100 p-6 rounded-md border border-gray-300 shadow-inner">
            <h3 class="text-xl font-bold text-gray-800 mb-3">Parágrafo Gerado:</h3>
            <p id="paragrafo-final" class="whitespace-pre-line text-gray-700"></p>
            <button id="copy-button" class="absolute top-4 right-4 bg-gray-200 text-gray-700 px-3 py-1 rounded-md text-sm hover:bg-gray-300 transition-colors duration-200" onclick="copiarParagrafo()">Copiar</button>
        </div>
    </div>

    <script>
        const termos = {
            disposicao: {
                masculino: [
                    "alegre", "amedrontado", "ansioso", "calmo", "culposo", "depressivo",
                    "enciumado", "enojado", "envergonhado", "entediado", "esperançoso",
                    "fascinado", "grato", "orgulhoso", "otimista", "pessimista", "queixoso",
                    "raivoso", "saudoso", "surpreso", "tranquilo", "triste", "desesperado"
                ],
                feminino: [
                    "alegre", "amedrontada", "ansiosa", "calma", "culposa", "depressiva",
                    "enciumada", "enojada", "envergonhada", "entediada", "esperançosa",
                    "fascinada", "grata", "orgulhosa", "otimista", "pessimista", "queixosa",
                    "raivosa", "saudosa", "surpresa", "tranquila", "triste", "desesperada"
                ]
            },
            expCorporal: {
                masculino: [
                    "gestos rígidos e controlados", "inquieto", "introspectivo/fechado",
                    "movimentos abertos e fluidos", "movimentando-se rapidamente",
                    "movimentando-se vagarosamente"
                ],
                feminino: [
                    "gestos rígidos e controlados", "inquieta", "introspectiva/fechada",
                    "movimentos abertos e fluidos", "movimentando-se rapidamente",
                    "movimentando-se vagarosamente"
                ]
            },
            expFacial: {
                masculino: [
                    "apático", "cabisbaixo", "choroso", "com olheiras", "com rubor",
                    "mandíbula tensa", "olhar pendente/cansado",
                    "olhar vazio/ausente/disperso", "semblante triste", "sorridente",
                    "sorriso inautêntico", "tranquilo"
                ],
                feminino: [
                    "apática", "cabisbaixa", "chorosa", "com olheiras", "com rubor",
                    "mandíbula tensa", "olhar pendente/cansado",
                    "olhar vazio/ausente/disperso", "semblante triste", "sorridente",
                    "sorriso inautêntico", "tranquila"
                ]
            },
            posturaTonus: {
                masculino: [
                    "postura relaxada", "postura neutra e equilibrada", "postura dominante",
                    "postura cabisbaixa", "postura curvada", "postura desequilibrada e assimétrica",
                    "tônus normal", "hipotônico", "hipertônico", "com ombros tensos",
                    "com pescoço tenso", "com braços tensos", "com punhos cerrados",
                    "com pernas esticadas", "com baixa articulação de membros",
                    "com aparente desvio postural (cifose)", "com aparente desvio postural (lordose)",
                    "com aparente desvio postural (escoliose)"
                ],
                feminino: [
                    "postura relaxada", "postura neutra e equilibrada", "postura dominante",
                    "postura cabisbaixa", "postura curvada", "postura desequilibrada e assimétrica",
                    "tônus normal", "hipotônica", "hipertônica", "com ombros tensos",
                    "com pescoço tenso", "com braços tensos", "com punhos cerrados",
                    "com pernas esticadas", "com baixa articulação de membros",
                    "com aparente desvio postural (cifose)", "com aparente desvio postural (lordose)",
                    "com aparente desvio postural (escoliose)"
                ]
            },
            respiracao: {
                masculino: [
                    "nasal", "bucal", "curta", "longa", "superficial", "profunda",
                    "diafragmática/abdominal", "intercostal/torácica", "peitoral/clavicular",
                    "ruidosa (chiado)", "ruidosa (crepitação)", "ruidosa (estridente)",
                    "esforço respiratório (músculo de pescoço e ombros)",
                    "esforço respiratório (retração intercostal)", "esforço respiratório (aleteo nasal)",
                    "ritmo regular", "ritmo irregular", "frequencia muito rápida (taquipneia)",
                    "frequencia anormalmente lenta (bradipneia)"
                ],
                feminino: [
                    "nasal", "bucal", "curta", "longa", "superficial", "profunda",
                    "diafragmática/abdominal", "intercostal/torácica", "peitoral/clavicular",
                    "ruidosa (chiado)", "ruidosa (crepitação)", "ruidosa (estridente)",
                    "esforço respiratório (músculo de pescoço e ombros)",
                    "esforço respiratório (retração intercostal)", "esforço respiratório (aleteo nasal)",
                    "ritmo regular", "ritmo irregular", "frequencia muito rápida (taquipneia)",
                    "frequencia anormalmente lenta (bradipneia)"
                ]
            }
        };

        function preencherSelect(elementId, termoKey, genero) {
            const select = document.getElementById(elementId);
            if (!select) return;

            const isMultiple = select.hasAttribute('multiple');
            const termosGenero = termos[termoKey][genero];
            const termosOriginal = termos[termoKey]['masculino'];

            // Salva as opções selecionadas antes de limpar
            const selectedValues = Array.from(select.options).filter(opt => opt.selected).map(opt => opt.value);
            
            select.innerHTML = '';
            
            if (!isMultiple) {
                const optionPlaceholder = document.createElement('option');
                optionPlaceholder.value = "";
                optionPlaceholder.textContent = "Selecione uma opção";
                optionPlaceholder.disabled = true;
                optionPlaceholder.selected = true;
                select.appendChild(optionPlaceholder);
            }

            termosGenero.forEach((termo, index) => {
                const option = document.createElement('option');
                option.value = termosOriginal[index]; // O valor da opção é sempre o termo no gênero masculino para manter a consistência
                option.textContent = termo; // O texto visível é o termo adaptado
                
                // Mantém a seleção se a opção já estava selecionada
                if (selectedValues.includes(option.value)) {
                    option.selected = true;
                }
                select.appendChild(option);
            });
        }

        function ajustarTermosPorGenero() {
            const genero = document.getElementById('genero').value;
            preencherSelect('disposicao', 'disposicao', genero);
            preencherSelect('expCorporal', 'expCorporal', genero);
            preencherSelect('expFacial', 'expFacial', genero);
            preencherSelect('posturaTonus', 'posturaTonus', genero);
            preencherSelect('respiracao', 'respiracao', genero);
        }

        document.getElementById('genero').addEventListener('change', ajustarTermosPorGenero);

        // AQUI ESTÁ A MUDANÇA: Usamos window.onload em vez de DOMContentLoaded para garantir que TUDO está pronto.
        window.onload = ajustarTermosPorGenero;


        function getCheckedValues(containerId) {
            const container = document.getElementById(containerId);
            const checkboxes = container.querySelectorAll('input[type="checkbox"]:checked');
            return Array.from(checkboxes).map(checkbox => checkbox.value);
        }

        function getSelectedValues(selectId) {
            const select = document.getElementById(selectId);
            if (!select) return [];
            const isMultiple = select.hasAttribute('multiple');
            if (isMultiple) {
                return Array.from(select.options)
                    .filter(opt => opt.selected)
                    .map(opt => opt.value);
            } else {
                return select.value ? [select.value] : [];
            }
        }

        function adaptarTermo(termoOriginal, genero) {
            for (const key in termos) {
                const index = termos[key]['masculino'].indexOf(termoOriginal);
                if (index !== -1) {
                    return termos[key][genero][index];
                }
            }
            return termoOriginal;
        }
        
        function formatList(items, genero) {
            if (items.length === 0) {
                return '';
            }
            const itensAdaptados = items.map(item => adaptarTermo(item, genero));
            if (itensAdaptados.length === 1) {
                return itensAdaptados[0];
            }
            if (itensAdaptados.length === 2) {
                return itensAdaptados.join(' e ');
            }
            const lastItem = itensAdaptados.pop();
            return itensAdaptados.join(', ') + ' e ' + lastItem;
        }

        function copiarParagrafo() {
            const paragrafo = document.getElementById('paragrafo-final').textContent;
            const copyButton = document.getElementById('copy-button');

            navigator.clipboard.writeText(paragrafo).then(() => {
                const originalText = copyButton.textContent;
                copyButton.textContent = "Copiado!";
                setTimeout(() => {
                    copyButton.textContent = originalText;
                }, 2000);
            }).catch(err => {
                console.error('Falha ao copiar o texto: ', err);
            });
        }

        function gerarParagrafo() {
            const nome = document.getElementById('nome').value.trim();
            const acompanhante = document.getElementById('acompanhante').value.trim();
            const acompanhanteStatus = getSelectedValues('acompanhanteStatus')[0];
            const genero = getSelectedValues('genero')[0];
            const disposicaoOriginal = getSelectedValues('disposicao')[0];
            const observacoes = document.getElementById('observacoes').value.trim();
            const elementosSimbolicos = document.getElementById('elementosSimbolicos').value.trim();
            const devolutiva = document.getElementById('devolutiva').checked;
            const avaliacao = document.getElementById('avaliacao').checked;
            const paragrafoFinal = document.getElementById('paragrafo-final');
            const estilo = getSelectedValues('estilo')[0];
            const nivelSuporte = getSelectedValues('nivelSuporte')[0];

            // Novos resultados
            const desempenhoGeral = getSelectedValues('desempenhoGeral')[0];
            const desempenhoHistorico = getSelectedValues('desempenhoHistorico')[0];
            const mudancaEmocional = getSelectedValues('mudancaEmocional')[0];
            const mudancasFisicas = getCheckedValues('mudancasFisicas');
            const suportePercebido = getCheckedValues('suportePercebido');

            const esquemasFisicosOriginal = [
                ...getSelectedValues('expCorporal'),
                ...getSelectedValues('expFacial'),
                ...getSelectedValues('posturaTonus'),
                ...getSelectedValues('respiracao')
            ].filter(Boolean);

            const recursosInteragiu = getCheckedValues('recursosInteragiu').concat(getCheckedValues('recursosExtraInteragiu'));
            const recursosAbordagem = getCheckedValues('recursosAbordagem').concat(getCheckedValues('recursosExtraAbordagem'));
            const elementosSala = getCheckedValues('elementosSala');

            const objetivos = getCheckedValues('objetivos');
            const abordagem = getCheckedValues('abordagem');
            const intercorrencias = getCheckedValues('intercorrencias');

            const disposicaoAdaptada = adaptarTermo(disposicaoOriginal, genero);
            const textoEsquemas = formatList(esquemasFisicosOriginal, genero);
            const textoRecursosInteragiu = formatList(recursosInteragiu, genero);
            const textoRecursosAbordagem = formatList(recursosAbordagem, genero);
            const textoElementosSala = formatList(elementosSala, genero);
            const textoObjetivos = formatList(objetivos, genero);
            const textoAbordagem = formatList(abordagem, genero);

            let textoIntercorrencias = "";
            if (intercorrencias.length > 0) {
                if (intercorrencias.includes("não houveram intercorrencias")) {
                    textoIntercorrencias = " Sem intercorrências.";
                } else {
                    textoIntercorrencias = ` As intercorrências observadas foram: ${formatList(intercorrencias, genero)}.`;
                }
            } else {
                 textoIntercorrencias = " Sem intercorrências.";
            }

            const nomeCapitalizado = nome.charAt(0).toUpperCase() + nome.slice(1);

            let textoAvaliacao = "";
            if (avaliacao) {
                if (estilo === 'estilo1' || estilo === 'estilo2') {
                    textoAvaliacao = ` Avaliação formal foi realizada, e as atividades executadas apoiaram tal processo.`;
                } else if (estilo === 'estilo3' || estilo === 'estilo4') {
                    textoAvaliacao = ` A sessão também incluiu uma avaliação formal, com as atividades servindo de apoio para a mesma.`;
                }
            }

            let textoDevolutiva = "";
            if (devolutiva) {
                if (estilo === 'estilo1' || estilo === 'estilo2') {
                    textoDevolutiva = ` Devolutiva foi feita aos responsáveis a respeito do processo terapêutico, possibilitando troca de informações, sanando dúvidas e enriquecendo a anamnese e investigação clínica do sistema de cuidados de ${nomeCapitalizado}.`;
                } else if (estilo === 'estilo3' || estilo === 'estilo4') {
                    textoDevolutiva = ` Houve uma devolutiva aos responsáveis sobre o progresso de ${nomeCapitalizado}, onde conversamos, tirei dúvidas e aprimorei a compreensão do contexto ${genero === 'masculino' ? 'dele' : 'dela'}.`;
                }
            }

            let textoObservacoes = observacoes ? ` ${observacoes}.` : "";
            let textoElementosSimbolicos = elementosSimbolicos ? ` Os seguintes elementos simbólicos foram notados: ${elementosSimbolicos}.` : "";

            let textoNivelSuporte = "";
            if (nivelSuporte) {
                let descricaoSuporte;
                if (nivelSuporte === 'maximo') {
                    descricaoSuporte = "totalmente físico, necessitando de assistência completa para realizar a atividade.";
                } else if (nivelSuporte === 'moderado') {
                    descricaoSuporte = "parcialmente físico, recebendo um toque ou guia suave para iniciar ou continuar a atividade.";
                } else if (nivelSuporte === 'leve') {
                    descricaoSuporte = "visual, sem contato físico, com gestos e demonstrações para entender a ação.";
                } else if (nivelSuporte === 'minimo') {
                    descricaoSuporte = "verbal, precisando apenas de uma orientação verbal para completar a tarefa.";
                } else if (nivelSuporte === 'sem apoio') {
                    descricaoSuporte = "independente, realizando a atividade de forma completamente autônoma.";
                }

                if (estilo === 'estilo1' || estilo === 'estilo2') {
                    textoNivelSuporte = ` O nível de suporte predominante foi ${descricaoSuporte}.`;
                } else if (estilo === 'estilo3' || estilo === 'estilo4') {
                    textoNivelSuporte = ` ${genero === 'masculino' ? 'Ele' : 'Ela'} precisou de um suporte ${descricaoSuporte}.`;
                }
            }

            const textoElementosSala = elementosSala.length > 0 ? ` Durante a sessão, ${genero === 'masculino' ? 'ele' : 'ela'} interagiu com elementos da sala como ${formatList(elementosSala, genero)}.` : "";

            let textoResultados = '';
            if (desempenhoGeral || desempenhoHistorico || mudancaEmocional || mudancasFisicas.length > 0 || suportePercebido.length > 0) {
                if (estilo === 'estilo1' || estilo === 'estilo2') {
                    const desempenhoGeralTxt = desempenhoGeral ? `Em relação ao desempenho geral, o paciente ${desempenhoGeral}. ` : '';
                    const desempenhoHistoricoTxt = desempenhoHistorico ? `Sua performance se apresentou ${desempenhoHistorico}. ` : '';
                    const mudancaEmocionalTxt = mudancaEmocional ? `Quanto à disposição emocional, ${mudancaEmocional}. ` : '';
                    const mudancasFisicasTxt = mudancasFisicas.length > 0 ? `As mudanças no esquema físico observadas foram: ${formatList(mudancasFisicas, genero)}. ` : '';
                    const suportePercebidoTxt = suportePercebido.length > 0 ? `No nível de suporte percebido, foram notadas: ${formatList(suportePercebido, genero)}. ` : '';

                    textoResultados = `${desempenhoGeralTxt}${desempenhoHistoricoTxt}${mudancaEmocionalTxt}${mudancasFisicasTxt}${suportePercebidoTxt}`;
                } else if (estilo === 'estilo3' || estilo === 'estilo4') {
                    const desempenhoGeralTxt = desempenhoGeral ? `${nomeCapitalizado} ${desempenhoGeral} nas atividades propostas. ` : '';
                    const desempenhoHistoricoTxt = desempenhoHistorico ? `O que está ${desempenhoHistorico}. ` : '';
                    const mudancaEmocionalTxt = mudancaEmocional ? `Sua disposição emocional ${mudancaEmocional}. ` : '';
                    const mudancasFisicasTxt = mudancasFisicas.length > 0 ? `Houve também mudanças no corpo, como ${formatList(mudancasFisicas, genero)}. ` : '';
                    const suportePercebidoTxt = suportePercebido.length > 0 ? `Sobre o suporte, percebemos: ${formatList(suportePercebido, genero)}. ` : '';

                    textoResultados = `${desempenhoGeralTxt}${desempenhoHistoricoTxt}${mudancaEmocionalTxt}${mudancasFisicasTxt}${suportePercebidoTxt}`;
                }
            }


            let template;
            const estiloEscolhido = estilo === 'aleatorio' ? `estilo${Math.floor(Math.random() * 5) + 1}` : estilo;

            switch (estiloEscolhido) {
                case 'estilo1':
                    template = `${nomeCapitalizado} ${acompanhanteStatus} ${acompanhante}, com uma disposição ${disposicaoAdaptada}. Seu esquema físico observou a presença de ${textoEsquemas}. Os recursos com que ${genero === 'masculino' ? 'ele' : 'ela'} interagiu foram ${textoRecursosInteragiu}. Os recursos utilizados na abordagem terapêutica foram ${textoRecursosAbordagem}. Os objetivos focados foram ${textoObjetivos}, com abordagens de ${textoAbordagem}. ${textoResultados}${textoElementosSala}${textoObservacoes}${textoElementosSimbolicos}${textoIntercorrencias}${textoAvaliacao}${textoDevolutiva}${textoNivelSuporte}`;
                    break;
                case 'estilo2':
                    template = `${nomeCapitalizado}, que ${acompanhanteStatus} ${acompanhante}, apresentou uma disposição emocional ${disposicaoAdaptada}. O estado físico evidenciado foi ${textoEsquemas}. Os recursos com que ${genero === 'masculino' ? 'ele' : 'ela'} interagiu foram ${textoRecursosInteragiu} e os utilizados na abordagem terapêutica foram ${textoRecursosAbordagem}. A sessão suportou os objetivos de ${textoObjetivos}, utilizando a abordagem de ${textoAbordagem}. ${textoResultados}${textoElementosSala}${textoObservacoes}${textoElementosSimbolicos}${textoIntercorrencias}${textoAvaliacao}${textoDevolutiva}${textoNivelSuporte}`;
                    break;
                case 'estilo3':
                    template = `${nomeCapitalizado} ${acompanhanteStatus} ${acompanhante}, com uma disposição ${disposicaoAdaptada}. No geral, ${genero === 'masculino' ? 'ele' : 'ela'} se mostrou com ${textoEsquemas}. Usamos ${textoRecursosInteragiu} e ${textoRecursosAbordagem} para trabalhar ${textoObjetivos} e a abordagem de ${textoAbordagem}. ${textoResultados}${textoElementosSala}${textoObservacoes}${textoElementosSimbolicos}${textoIntercorrencias}${textoAvaliacao}${textoDevolutiva}${textoNivelSuporte}`;
                    break;
                case 'estilo4':
                    template = `No atendimento de hoje, ${nomeCapitalizado}, que ${acompanhanteStatus} ${acompanhante}, mostrou-se ${disposicaoAdaptada}. O esquema corporal evidenciou ${textoEsquemas}. Durante a sessão, ${genero === 'masculino' ? 'ele' : 'ela'} interagiu com os recursos ${textoRecursosInteragiu}, enquanto os recursos da abordagem foram ${textoRecursosAbordagem}, explorando os objetivos de ${textoObjetivos} através da abordagem de ${textoAbordagem}, levando aos resultados de ${textoResultados}${textoElementosSala}${textoObservacoes}${textoElementosSimbolicos}${textoIntercorrencias}${textoAvaliacao}${textoDevolutiva}${textoNivelSuporte}`;
                    break;
                case 'estilo5':
                    const observacoesEspeciais = [observacoes];
                    if (avaliacao) {
                        observacoesEspeciais.push("Avaliação formal foi realizada, e as atividades executadas apoiaram tal processo.");
                    }
                    if (devolutiva) {
                        observacoesEspeciais.push(`Devolutiva foi feita aos responsáveis a respeito do processo terapêutico, possibilitando troca de informações, sanando dúvidas e enriquecendo a anamnese e investigação clínica do sistema de cuidados de ${nomeCapitalizado}.`);
                    }
                    if (nivelSuporte) {
                        let descricaoSuporte;
                        if (nivelSuporte === 'maximo') {
                            descricaoSuporte = "Máximo (Totalmente Físico): O paciente necessita de assistência física completa do musicoterapeuta para realizar a atividade. O profissional guia os movimentos do paciente, que pode estar passivo ou oferecer pouca resistência. Este tipo de suporte é usado quando a criança não consegue iniciar ou completar a tarefa por conta própria.";
                        } else if (nivelSuporte === 'moderado') {
                            descricaoSuporte = "Moderado (Parcialmente Físico): O paciente recebe uma assistência física parcial, como um toque ou uma guia suave para iniciar ou continuar a atividade. O terapeuta não realiza a tarefa pelo paciente, mas o auxilia a completar o movimento.";
                        } else if (nivelSuporte === 'leve') {
                            descricaoSuporte = "Leve (Visual): O suporte é visual, sem contato físico. O terapeuta pode usar gestos, demonstrar a atividade ou apontar para o objeto, para que o paciente possa entender e imitar a ação.";
                        } else if (nivelSuporte === 'minimo') {
                            descricaoSuporte = "Mínimo (Verbal): O paciente precisa apenas de uma orientação verbal para realizar a atividade. O terapeuta utiliza instruções claras ou pistas verbais para incentivar o paciente a completar a tarefa.";
                        } else if (nivelSuporte === 'sem apoio') {
                            descricaoSuporte = "Sem apoio (Independente): O paciente realiza a atividade de forma completamente autônoma, sem a necessidade de qualquer tipo de ajuda verbal, visual ou física. A tarefa é realizada de forma consistente e independente.";
                        }
                        observacoesEspeciais.push(`Nível de Suporte Predominante: ${descricaoSuporte}`);
                    }
                    if (elementosSala.length > 0) {
                        observacoesEspeciais.push(`Elementos da sala com que interagiu: ${formatList(elementosSala, genero)}.`);
                    }
                    if (elementosSimbolicos) {
                         observacoesEspeciais.push(`Elementos Simbólicos: ${elementosSimbolicos}.`);
                    }
                    if (intercorrencias.length > 0) {
                        observacoesEspeciais.push(`Intercorrências: ${formatList(intercorrencias, genero)}.`);
                    }


                    const textoObservacoesEstilo5 = observacoesEspeciais.filter(Boolean).map(obs => obs.trim()).join('\n- ');
                    
                    const resultadosEstilo5 = [];
                    if (desempenhoGeral) resultadosEstilo5.push(`- Desempenho Geral: ${desempenhoGeral}.`);
                    if (desempenhoHistorico) resultadosEstilo5.push(`- Comparação Histórica: ${desempenhoHistorico}.`);
                    if (mudancaEmocional) resultadosEstilo5.push(`- Mudança Emocional: ${mudancaEmocional}.`);
                    if (mudancasFisicas.length > 0) resultadosEstilo5.push(`- Mudanças Físicas: ${formatList(mudancasFisicas, genero)}.`);
                    if (suportePercebido.length > 0) resultadosEstilo5.push(`- Nível de Suporte Percebido: ${formatList(suportePercebido, genero)}.`);

                    template = `Atendimento de ${nomeCapitalizado}

- Disposição Emocional: ${disposicaoAdaptada}
- Aspectos Físicos/Corporais: ${textoEsquemas}
- Recursos que interagiu: ${textoRecursosInteragiu}
- Recursos da abordagem: ${textoRecursosAbordagem}
- Objetivos da Sessão: ${textoObjetivos}
- Abordagem Utilizada: ${textoAbordagem}
- Resultados:
${resultadosEstilo5.join('\n')}
- Outras Observações:
${textoObservacoesEstilo5}`;
                    break;
                default:
                    template = `${nomeCapitalizado} ${acompanhanteStatus} ${acompanhante}, com uma disposição ${disposicaoAdaptada}. Em seu esquema físico, observa-se a presença de ${textoEsquemas}. Os recursos utilizados na sessão foram ${textoRecursosInteragiu} e ${textoRecursosAbordagem}. Os objetivos focados foram ${textoObjetivos}, com abordagens de ${textoAbordagem}. ${textoResultados}${textoObservacoes}${textoElementosSimbolicos}${textoIntercorrencias}${textoAvaliacao}${textoDevolutiva}`;
                    break;
            }

            paragrafoFinal.textContent = template;
        }
    </script>
</body>
</html>
